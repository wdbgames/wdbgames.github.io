<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WDBG</title>
    <script src="scripts/main.js"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="scripts/style.css">
  </head>
  <body>
    <div class="navbar">
      <a href="index.html">Home</a>
      <a href="games.html">Games</a>
      <a href="changelog.html">Changelog</a>
      <a href="settings.html">Settings</a>
    </div>
    <h1>Settings</h1>
    <div class="settings-container">
      <div class="setting-group">
        <label for="titleInput">Page Title</label>
        <input type="text" id="titleInput" placeholder="WDBG">
      </div>
      <div class="setting-group">
        <label for="faviconInput">Favicon URL</label>
        <input type="text" id="faviconInput" placeholder="https://wdbgames.github.io/wdbg/images/favicon.png">
      </div>
      <div class="setting-group">
        <label>Page Title and Favicon URL Presets</label>
        <div class="preset-buttons">
          <button onclick="applyPreset('', '')">Default</button>
          <button onclick="applyPreset('Google', 'https://www.google.com/favicon.ico')">Google</button>
          <button onclick="applyPreset('Search', 'https://www.bing.com/sa/simg/favicon-trans-bg-blue-mg.ico')">Bing</button>
          <button onclick="applyPreset('Classlink', 'https://myapps.classlink.com/favicon.ico')">Classlink</button>
          <button onclick="applyPreset('Schoology', 'https://www.powerschool.com/favicon.ico')">Schoology</button>
        </div>
      </div>
      <div class="setting-group">
        <label for="panicKeyInput">Panic Keybind</label>
        <input type="text" id="panicKeyInput" placeholder="" readonly>
      </div>
      <div class="setting-group">
        <label>Panic Keybind URL</label>
        <input type="text" id="panicUrlInput" placeholder="">
      </div>
      <div class="setting-group">
        <label>Panic Keybind URL Presets</label>
        <div class="preset-buttons">
          <button onclick="applyPanicPreset('', '')">Default</button>
          <button onclick="applyPanicPreset('', 'https://www.google.com')">Google</button>
          <button onclick="applyPanicPreset('', 'https://www.bing.com')">Bing</button>
          <button onclick="applyPanicPreset('', 'https://myapps.classlink.com/home')">Classlink</button>
          <button onclick="applyPanicPreset('', 'https://mnps.schoology.com/home')">Schoology</button>
        </div>
      </div>
      <div class="setting-group">
        <label>Custom JS URL</label>
        <input type="text" id="customJSInput" placeholder="https://wdbgames.github.io/wdbg/scripts/js/default.js">
      </div>
      <div class="setting-group">
        <label>Custom JS URL Presets</label>
        <div class="preset-buttons">
          <button onclick="applyJSPreset('')">Default</button>
          <button onclick="applyJSPreset('https://wdbgames.github.io/wdbg/scripts/js/blank.js')">Blank</button>
        </div>
      </div>
      <div class="setting-group">
        <label>Theme</label>
        <input type="text" id="customThemeInput" placeholder="Dark">
      </div>
      <div class="setting-group">
        <label>Theme Presets</label>
        <div class="preset-buttons">
          <button onclick="applyThemePreset('')">Dark</button>
          <button onclick="applyThemePreset('Light')">Light</button>
          <button onclick="applyThemePreset('Ice')">Ice</button>
          <button onclick="applyThemePreset('Mint')">Mint</button>
		  <button onclick="applyThemePreset('Midnight')">Midnight</button>
		  <button onclick="applyThemePreset('Forest')">Forest</button>
		  <button onclick="applyThemePreset('Purple')">Purple</button>
		  <button onclick="applyThemePreset('Gray')">Gray</button>
		  <button onclick="applyThemePreset('Black')">Black</button>
		  
        </div>
      </div>
      <button onclick="saveSettings()">Save Settings</button>
    </div>
    <script>
      function saveSettings() {
        localStorage.setItem('customTitle', document.getElementById('titleInput').value);
        localStorage.setItem('customFavicon', document.getElementById('faviconInput').value);
        localStorage.setItem('panicKey', document.getElementById('panicKeyInput').value);
        localStorage.setItem('panicUrl', document.getElementById('panicUrlInput').value);
        localStorage.setItem('JS', document.getElementById('customJSInput').value);
		localStorage.setItem('theme', document.getElementById('customThemeInput').value);
      }

      function applyPreset(title, favicon) {
        document.getElementById('titleInput').value = title;
        document.getElementById('faviconInput').value = favicon;
      }

      function applyPanicPreset(key, url) {
        document.getElementById('panicUrlInput').value = url;
      }

      function applyJSPreset(url) {
        document.getElementById('customJSInput').value = url;
      }
	 
      function applyThemePreset(theme) {
        document.getElementById('customThemeInput').value = theme;
      }

      document.addEventListener('DOMContentLoaded', () => {
        const titleInput = document.getElementById('titleInput');
        const faviconInput = document.getElementById('faviconInput');
        const panicKeyInput = document.getElementById('panicKeyInput');
        const panicUrlInput = document.getElementById('panicUrlInput');
        const customJSInput = document.getElementById('customJSInput');
        const savedTitle = localStorage.getItem('customTitle');
        const savedFavicon = localStorage.getItem('customFavicon');
        const savedPanicKey = localStorage.getItem('panicKey');
        const savedPanicUrl = localStorage.getItem('panicUrl');
        const savedJS = localStorage.getItem('JS');
		const theme = localStorage.getItem('theme');
        if (savedTitle) titleInput.value = savedTitle;
        if (savedFavicon) faviconInput.value = savedFavicon;
        if (savedPanicKey) panicKeyInput.value = savedPanicKey;
        if (savedPanicUrl) panicUrlInput.value = savedPanicUrl;
        if (savedJS) customJSInput.value = savedJS;
		if (theme) customThemeInput.value = theme;
		document.documentElement.setAttribute("data-theme", theme);
        panicKeyInput.readOnly = true;
        panicKeyInput.addEventListener('keydown', e => {
          e.preventDefault();
          const key = e.key.toLowerCase();
          panicKeyInput.value = key;
        });
      });
    </script>
  </body>
</html>

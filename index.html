<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WDBG</title>
    <script src="scripts/main.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="scripts/style.css">
  </head>
  <body>
    <div class="navbar">
      <a href="index.html">Home</a>
      <a href="games.html">Games</a>
      <a href="changelog.html">Changelog</a>
      <a href="settings.html">Settings</a>
    </div>
    <h1>WDB Games Â· <span id="viewCount">0 Views</span><br><span id="message">...</span>
    </h1>
    <div class="links-container">
	  <div class="link-box">
        <a href="games.html">Games</a>
        <p>Play games here!</p>
      </div>
	  <div class="link-box">
        <a href="changelog.html">Changelog</a>
        <p>See recent additions to WDB Games here.</p>
      </div>
      <div class="link-box">
        <a href="settings.html">Settings</a>
        <p>Customize WDB Games here.</p>
      </div>
      <div class="link-box">
        <a href="https://tally.so/r/3NdxgG" target="_blank">Tally Forms</a>
        <p>Suggest a game or report a bug here.</p>
      </div>
      <div class="link-box">
        <a href="https://github.com/wdbgames/wdbgames.github.io" target="_blank">Github Repo</a>
        <p>The source code for this website.</p>
      </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <script>
  const firebaseConfig = {
    apiKey: "AIzaSyBKmpmd450Wly7mBl5uMB9K7TKeIwzkJLk",
    authDomain: "chat-7ba8c.firebaseapp.com",
    databaseURL: "https://chat-7ba8c-default-rtdb.firebaseio.com",
    projectId: "chat-7ba8c",
    storageBucket: "chat-7ba8c.firebasestorage.app",
    messagingSenderId: "605557322783",
    appId: "1:605557322783:web:945ab35987b6f29250d12a"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const viewsRef = db.ref("views/home");
  viewsRef.transaction(current => (current || 0) + 1);
  viewsRef.on("value", snapshot => {
    const views = snapshot.val();
    document.getElementById("viewCount").innerText = views + " Views";
  });

  const messageRef = db.ref("message/home");
  messageRef.on("value", snapshot => {
    const message = snapshot.val();
    document.getElementById("message").innerText = message;
  });
    </script>
    <script>
      function toggleCategory(header) {
        let gamesContainer = header.nextElementSibling;
        if (gamesContainer.style.display === "grid") {
          gamesContainer.style.display = "none";
        } else {
          gamesContainer.style.display = "grid";
        }
      }
    </script>
  </body>
</html>
